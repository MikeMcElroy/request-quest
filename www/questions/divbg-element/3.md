Elements with `visibility: hidden` still take up space on the page, to work out the space they take up their styles need calculated. This process triggers the download in Firefox.

Ok, let's get JavaScript involvedâ€¦